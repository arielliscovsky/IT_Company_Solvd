<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
        'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>

<mapper namespace='com.solvd.itcompany.dao.IEmployeeDAO'>

    <select id='getEmployeeById' parameterType='long' resultType='com.sivalabs.mybatisdemo.domain.User'>
        SELECT
        Emp_name as name,
        LastName as lastname,
        BirthDate as birthdate,
        HireDate as hiredate,
        User as user,
        Addres as address
        FROM EMPLOYEE
        WHERE IdEmployee = #{id}
    </select>

    <insert id='insertEmployee' parameterType='Employee' useGeneratedKeys='true' keyProperty='IdEmployee'>
        INSERT INTO EMPLOYEE(Emp_name, LastName, BirthDate, HireDate, User, Addres)
        VALUES(#{name}, #{lastname}, #{birthdate}, #{hiredate}, #{user}, #{address})
    </insert>

    <update id='updateUser' parameterType='User'>
        UPDATE USER
        SET
        PASSWORD= #{password},
        FIRST_NAME = #{firstName},
        LAST_NAME = #{lastName}
        WHERE USER_ID = #{userId}
    </update>

    <delete id='deleteUser' parameterType='int'>
        DELETE FROM USER WHERE USER_ID = #{userId}
    </delete>

    <resultMap type='com.solvd.itcompany.classes.employee.Employee' id='EmployeeResult' autoMapping="false">
        <id property='id' column='idEmployee'/>
        <result property='name' column='Emp_name'/>
        <result property='lastname' column='LastName'/>
        <result property='birthdate' column='BirthDate'/>
        <result property='hiredate' column='HireDate'/>
        <result property='user' column='User'/>
        <result property='address' column='Addres'/>
    </resultMap>

</mapper>